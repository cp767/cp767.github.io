// setTimeout(() => {
//     log(htmlDecode("<p>if a&gt;b:</p><p>â€ƒprint(1)</p><p>print(b)</p>"));
//     // log("hello\nworld");
// }, 2000);
//const icon24 = '<polygon points="0,0 0,18 12,9" fill="none" fill-rule="evenodd" stroke="currentColor" stroke-width="2"/>'
const icon24='<path stroke="currentColor" stroke-width="1" d="M12.5 1c-2.03 0-3.406.484-4.282 1.188C7.344 2.891 7 3.795 7 4.547V7h5v.5H4.547c-.914 0-1.842.396-2.5 1.235C1.389 9.573 1 10.823 1 12.5c0 1.678.389 2.928 1.047 3.765C2.705 17.104 3.633 17.5 4.547 17.5H7v2.953c0 .752.344 1.657 1.219 2.36C9.094 23.516 10.47 24 12.5 24c2.03 0 3.406-.485 4.282-1.187C17.657 22.11 18 21.205 18 20.453V18H13v-.5h7.453c.914 0 1.842-.396 2.5-1.235C23.612 15.428 24 14.178 24 12.5c0-1.678-.389-2.927-1.047-3.765-.658-.838-1.586-1.234-2.5-1.234H18V4.547c0-.772-.342-1.678-1.219-2.375C15.905 1.475 14.528 1 12.5 1zm0 1c1.873 0 3.008.438 3.657.953C16.804 3.469 17 4.068 17 4.547V10.5a1.5 1.5 0 0 1-1.5 1.5H9.5c-1.03 0-1.916.635-2.297 1.531a2.402 2.402 0 0 0-.156.469A2.481 2.481 0 0 0 7 14.5v2H4.547c-.635 0-1.223-.248-1.703-.86C2.363 15.03 2 14.022 2 12.5c0-1.521.364-2.53.844-3.14C3.324 8.748 3.912 8.5 4.547 8.5H13v-2.5H8V4.547c0-.447.194-1.057.844-1.578C9.494 2.447 10.629 2 12.5 2zm-2.5 1.5c-.551 0-1 .449-1 1 0 .551.449 1 1 1 .551 0 1-.449 1-1 0-.551-.449-1-1-1zm8 5h2.453c.635 0 1.223.248 1.704.86C22.637 9.97 23 10.979 23 12.5c0 1.521-.363 2.53-.844 3.14-.48.611-1.068.86-1.703.86H12v2.5h5v1.453c0 .448-.194 1.057-.844 1.579C15.506 22.553 14.371 23 12.5 23c-1.871 0-3.006-.448-3.656-.969C8.194 21.51 8 20.901 8 20.454V14.5a1.505 1.505 0 0 1 1.5-1.5h6c1.373 0 2.5-1.127 2.5-2.5zm-3 11c-.551 0-1 .449-1 1 0 .551.449 1 1 1 .551 0 1-.449 1-1 0-.551-.449-1-1-1z"/>'
miro.onReady(() => {
    
    miro.initialize({
        extensionPoints: {
            bottomBar: {
                title: 'Run Python',
                svgIcon: icon24,
                onClick: async() => {

                    // let allText = await miro.board.widgets.get({
                    //     type: 'text'
                    // });
                    // let codeText = allText[0];
                    // let outText = allText[1];

                    // await miro.board.widgets.update({
                    //         id: outText.id,
                    //         text: runCode(htmlDecode(codeText.text))
                    //     })
                    //     // text: codeText.plainText
                    // log(outText)

                    miro.board.ui.openBottomPanel("main.html", { width: 124, height: 56 });
                    
                }
            }
        }
    })
})